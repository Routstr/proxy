# Routstr Core - Example Environment Configuration

# Core routing
UPSTREAM_BASE_URL=https://api.openai.com/v1
UPSTREAM_API_KEY=

# Pricing & billing
COST_PER_REQUEST=10                 # in sats (converted to msats internally)
COST_PER_1K_INPUT_TOKENS=0         # in sats
COST_PER_1K_OUTPUT_TOKENS=0        # in sats
MODEL_BASED_PRICING=true           # true|false

# Models source
MODELS_PATH=./models.json          # optional; if absent, auto-fetch from OpenRouter
SOURCE=                             # optional source filter for OpenRouter (e.g. openrouter)

# Node identity & metadata
NAME=My Routstr Node
DESCRIPTION=Payment proxy for OpenAI-compatible APIs using Cashu
NPUB=
HTTP_URL=http://localhost:8000
ONION_URL=
CORS_ORIGINS=*

# Cashu wallet
CASHU_MINTS=https://mint.minibits.cash/Bitcoin
RECEIVE_LN_ADDRESS=                # optional, for automated payouts

# Database
DATABASE_URL=sqlite+aiosqlite:///keys.db

# Logging
LOG_LEVEL=INFO
ENABLE_CONSOLE_LOGGING=true

# Networking
TOR_PROXY_URL=socks5://tor:9050

# Fees and price aggregation
EXCHANGE_FEE=1.005
UPSTREAM_PROVIDER_FEE=1.05
# NAME = "Your Routstr Proxy Name"
# DESCRIPTION = "A short Description"

# Any openai-compatible api endpoint
UPSTREAM_BASE_URL="https://api.openai.com/v1"
UPSTREAM_API_KEY="sk-21212121212121212121212121212121"
# UPSTREAM_PROVIDER_FEE=1  # 1 = no fees, 1.05 = 5% fees

# Lightning address used to receive funds

# When your cashu balance reaches this number of sats, send the funds to RECEIVE_LN_ADDRESS. 
# RECEIVE_LN_ADDRESS="user@minibits.cash"
#MINIMUM_PAYOUT = "100"

# If set to true, pricing is loaded from the file specified by MODELS_PATH
# Defaults to "models.json" and falls back to "models.example.json" if missing
# MODEL_BASED_PRICING = "true"
# MODELS_PATH="models.json"

# Costs in Sats, if MODEL_BASED_PRICING is set to false
# COST_PER_REQUEST="10"
# COST_PER_1K_INPUT_TOKENS = "0"
# COST_PER_1K_OUTPUT_TOKENS = "0"
# EXCHANGE_FEE = "1.005"  # 0.5 % currency exchange fee 

# password used to log into admin interface
# ADMIN_PASSWORD=""

# Public Endpoint
# HTTP_URL="https://your.domain.com"

# Tor Endpoint (copy from docker logs)
# ONION_URL=".onion"

# RELAYS="wss://relay.routstr.com,wss://relay.nostr.band"
# CASHU_MINTS="https://mint.minibits.cash/Bitcoin,https://mint.cubabitcoin.org"

# Development
# DEBUG=TRUE
# LOG_LEVEL=TRACE
