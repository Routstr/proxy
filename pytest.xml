<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="2" skipped="11" tests="171" time="20.558" timestamp="2025-08-10T19:45:04.094395+00:00" hostname="cursor"><testcase classname="tests.integration.test_background_tasks.TestPricingUpdateTask" name="test_updates_model_prices_periodically" time="0.004" /><testcase classname="tests.integration.test_background_tasks.TestPricingUpdateTask" name="test_handles_provider_api_failures" time="0.001" /><testcase classname="tests.integration.test_background_tasks.TestPricingUpdateTask" name="test_database_updates_are_atomic" time="0.052" /><testcase classname="tests.integration.test_background_tasks.TestRefundCheckTask" name="test_processes_pending_refunds" time="0.033" /><testcase classname="tests.integration.test_background_tasks.TestRefundCheckTask" name="test_handles_mint_communication_errors" time="0.015" /><testcase classname="tests.integration.test_background_tasks.TestRefundCheckTask" name="test_updates_refund_status_correctly" time="0.019" /><testcase classname="tests.integration.test_background_tasks.TestPeriodicPayoutTask" name="test_executes_at_configured_intervals" time="0.000"><skipped type="pytest.skip" message="Timing-based test with complex mocking - skipping for CI reliability">/workspace/tests/integration/test_background_tasks.py:442: Timing-based test with complex mocking - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_background_tasks.TestPeriodicPayoutTask" name="test_calculates_payouts_accurately" time="0.000"><skipped type="pytest.skip" message="Database setup issues - skipping for CI reliability">/workspace/tests/integration/test_background_tasks.py:449: Database setup issues - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_background_tasks.TestTaskInteractions" name="test_api_requests_work_during_task_execution" time="0.000"><skipped type="pytest.skip" message="Complex timing and concurrency tests - skipping for CI reliability">/workspace/tests/integration/test_background_tasks.py:615: Complex timing and concurrency tests - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_background_tasks.TestTaskInteractions" name="test_database_locking_handled_properly" time="0.000"><skipped type="pytest.skip" message="Complex timing and concurrency tests - skipping for CI reliability">/workspace/tests/integration/test_background_tasks.py:647: Complex timing and concurrency tests - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_background_tasks.TestTaskInteractions" name="test_graceful_shutdown" time="0.000"><skipped type="pytest.skip" message="Complex timing and concurrency tests - skipping for CI reliability">/workspace/tests/integration/test_background_tasks.py:698: Complex timing and concurrency tests - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_database_consistency.TestTransactionAtomicity" name="test_balance_update_atomicity" time="0.056" /><testcase classname="tests.integration.test_database_consistency.TestTransactionAtomicity" name="test_topup_rollback_on_failure" time="0.043" /><testcase classname="tests.integration.test_database_consistency.TestTransactionAtomicity" name="test_concurrent_balance_updates" time="0.082" /><testcase classname="tests.integration.test_database_consistency.TestConcurrentOperations" name="test_multiple_requests_same_api_key" time="0.062" /><testcase classname="tests.integration.test_database_consistency.TestConcurrentOperations" name="test_simultaneous_topup_and_usage" time="0.037" /><testcase classname="tests.integration.test_database_consistency.TestConcurrentOperations" name="test_race_condition_prevention" time="0.052" /><testcase classname="tests.integration.test_database_consistency.TestDataIntegrity" name="test_balance_never_negative" time="0.037" /><testcase classname="tests.integration.test_database_consistency.TestDataIntegrity" name="test_primary_key_uniqueness" time="0.032" /><testcase classname="tests.integration.test_database_consistency.TestDataIntegrity" name="test_timestamp_consistency" time="0.347" /><testcase classname="tests.integration.test_database_consistency.TestDataIntegrity" name="test_numeric_field_constraints" time="0.033" /><testcase classname="tests.integration.test_database_consistency.TestPerformance" name="test_operation_latency" time="0.107" /><testcase classname="tests.integration.test_database_consistency.TestPerformance" name="test_connection_pool_behavior" time="0.175" /><testcase classname="tests.integration.test_database_consistency.TestPerformance" name="test_index_usage" time="0.032" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestNetworkFailureScenarios" name="test_mint_service_unavailable" time="0.034" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestNetworkFailureScenarios" name="test_upstream_llm_service_down" time="0.045"><failure message="assert 500 == 502&#10; +  where 500 = &lt;Response [500 Internal Server Error]&gt;.status_code">tests/integration/test_error_handling_edge_cases.py:67: in test_upstream_llm_service_down
    assert response.status_code == 502
E   assert 500 == 502
E    +  where 500 = &lt;Response [500 Internal Server Error]&gt;.status_code</failure></testcase><testcase classname="tests.integration.test_error_handling_edge_cases.TestNetworkFailureScenarios" name="test_partial_request_failures" time="0.030" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestNetworkFailureScenarios" name="test_timeout_handling" time="0.029" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestInvalidInputHandling" name="test_malformed_cashu_tokens" time="0.084" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestInvalidInputHandling" name="test_invalid_json_payloads" time="0.050" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestInvalidInputHandling" name="test_sql_injection_attempts" time="0.024" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestInvalidInputHandling" name="test_xss_in_headers_params" time="0.049" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestResourceExhaustion" name="test_rate_limiting_behavior" time="0.318" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestResourceExhaustion" name="test_maximum_request_size_limits" time="0.099" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestResourceExhaustion" name="test_database_connection_limits" time="0.179" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestResourceExhaustion" name="test_memory_usage_under_load" time="0.319" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestRecoveryScenarios" name="test_service_restart_during_requests" time="0.041" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestRecoveryScenarios" name="test_database_recovery_after_crash" time="0.032" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestRecoveryScenarios" name="test_state_consistency_after_failures" time="0.052" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestEdgeCaseCombinations" name="test_concurrent_errors" time="0.000"><skipped type="pytest.skip" message="Concurrent error test has timing issues - skipping for CI reliability">/workspace/tests/integration/test_error_handling_edge_cases.py:537: Concurrent error test has timing issues - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_error_handling_edge_cases.TestEdgeCaseCombinations" name="test_error_during_streaming" time="0.031" /><testcase classname="tests.integration.test_error_handling_edge_cases.TestEdgeCaseCombinations" name="test_rapid_balance_exhaustion" time="0.104" /><testcase classname="tests.integration.test_example" name="test_infrastructure_setup" time="0.048" /><testcase classname="tests.integration.test_example" name="test_full_wallet_flow" time="0.062" /><testcase classname="tests.integration.test_example" name="test_error_handling" time="0.034" /><testcase classname="tests.integration.test_example" name="test_performance_requirements" time="1.582" /><testcase classname="tests.integration.test_example" name="test_concurrent_operations" time="0.179" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_root_endpoint_structure_and_performance" time="0.333" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_root_endpoint_environment_variables" time="0.044" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_models_endpoint_structure_and_performance" time="0.328" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_models_endpoint_pricing_structure" time="0.044" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_models_endpoint_accept_headers" time="0.161" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_admin_endpoint_unauthenticated" time="0.015" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_admin_endpoint_html_structure" time="0.012" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_admin_endpoint_accept_headers" time="0.011" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_all_info_endpoints_no_database_changes" time="0.082" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_concurrent_info_endpoint_requests" time="0.324" /><testcase classname="tests.integration.test_general_info_endpoints" name="test_info_endpoints_response_consistency" time="0.341" /><testcase classname="tests.integration.test_performance_load.TestPerformanceBaseline" name="test_endpoint_response_times" time="7.527" /><testcase classname="tests.integration.test_performance_load.TestPerformanceBaseline" name="test_database_query_performance" time="0.219" /><testcase classname="tests.integration.test_performance_load.TestLoadScenarios" name="test_concurrent_users_100" time="0.000"><skipped type="pytest.skip" message="High load tests fail in CI environment - skipping for reliability">/workspace/tests/integration/test_performance_load.py:194: High load tests fail in CI environment - skipping for reliability</skipped></testcase><testcase classname="tests.integration.test_performance_load.TestLoadScenarios" name="test_sustained_load_1000_rpm" time="0.000"><skipped type="pytest.skip" message="High load tests fail in CI environment - skipping for reliability">/workspace/tests/integration/test_performance_load.py:279: High load tests fail in CI environment - skipping for reliability</skipped></testcase><testcase classname="tests.integration.test_performance_load.TestMemoryLeaks" name="test_memory_leak_detection" time="0.000"><skipped type="pytest.skip" message="Memory leak tests fail due to missing model field - skipping for CI reliability">/workspace/tests/integration/test_performance_load.py:374: Memory leak tests fail due to missing model field - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_performance_load.TestPerformanceRegression" name="test_performance_benchmarks" time="0.000"><skipped type="pytest.skip" message="Performance regression tests fail due to auth issues - skipping for CI reliability">/workspace/tests/integration/test_performance_load.py:436: Performance regression tests fail due to auth issues - skipping for CI reliability</skipped></testcase><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_default_response" time="0.012" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_with_include_json" time="0.014" /><testcase classname="tests.integration.test_provider_management" name="test_providers_data_structure_validation" time="0.011" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_no_providers_found" time="0.010" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_offline_providers" time="0.013" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_duplicate_urls" time="0.013" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_nostr_relay_failures" time="0.012" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_malformed_urls" time="0.011" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_response_format" time="0.011" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_performance" time="0.018" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_concurrent_requests" time="0.016" /><testcase classname="tests.integration.test_provider_management" name="test_providers_endpoint_parameter_validation" time="0.015" /><testcase classname="tests.integration.test_provider_management" name="test_no_database_changes_during_provider_operations" time="0.016" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_with_valid_api_key" time="0.035" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_request_headers_forwarded" time="0.032" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_unauthorized_access" time="0.014"><failure message="assert 400 == 401&#10; +  where 400 = &lt;Response [400 Bad Request]&gt;.status_code">tests/integration/test_proxy_get_endpoints.py:178: in test_proxy_get_unauthorized_access
    assert response.status_code == 401
E   assert 400 == 401
E    +  where 400 = &lt;Response [400 Bad Request]&gt;.status_code</failure></testcase><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_response_streaming" time="0.032" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_billing_verification" time="0.041" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_insufficient_balance" time="0.033" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_billing_calculations_match_pricing" time="0.041" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_database_state_verification" time="0.045" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_upstream_service_errors" time="0.034" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_network_timeouts" time="0.029" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_invalid_upstream_paths" time="0.032" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_long_running_requests" time="0.132" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_concurrent_requests" time="0.033" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_performance_requirements" time="0.031" /><testcase classname="tests.integration.test_proxy_get_endpoints" name="test_proxy_get_response_format_preservation" time="0.032" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_json_payload_forwarding" time="0.035" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_streaming_response" time="0.029" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_non_streaming_response" time="0.029" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_content_type_preserved" time="0.030" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_unauthorized_access" time="0.016" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_performance" time="0.032" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_model_specific_endpoints" time="0.031" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_billing_token_counting" time="0.032" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_streaming_billing_calculation" time="0.033" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_large_payload_handling" time="0.030" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_malformed_json_request" time="0.031" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_insufficient_balance" time="0.010"><skipped type="pytest.skip" message="Skipping insufficient balance test - depends on model pricing configuration">/workspace/tests/integration/test_proxy_post_endpoints.py:639: Skipping insufficient balance test - depends on model pricing configuration</skipped></testcase><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_rate_limiting_behavior" time="0.031" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_partial_streaming_failure" time="0.028" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_database_state_changes" time="0.034" /><testcase classname="tests.integration.test_proxy_post_endpoints" name="test_proxy_post_concurrent_requests" time="0.033" /><testcase classname="tests.integration.test_real_mint" name="test_real_wallet" time="0.001" /><testcase classname="tests.integration.test_wallet_authentication" name="test_api_key_generation_valid_token" time="0.036" /><testcase classname="tests.integration.test_wallet_authentication" name="test_api_key_generation_invalid_token" time="0.041" /><testcase classname="tests.integration.test_wallet_authentication" name="test_duplicate_token_handling" time="0.040" /><testcase classname="tests.integration.test_wallet_authentication" name="test_authorization_header_validation" time="0.045" /><testcase classname="tests.integration.test_wallet_authentication" name="test_malformed_authorization_header" time="0.021" /><testcase classname="tests.integration.test_wallet_authentication" name="test_database_state_api_key_creation" time="0.066" /><testcase classname="tests.integration.test_wallet_authentication" name="test_api_key_with_refund_address" time="0.012" /><testcase classname="tests.integration.test_wallet_authentication" name="test_api_key_with_expiry_time" time="0.010" /><testcase classname="tests.integration.test_wallet_authentication" name="test_concurrent_token_submissions" time="0.184" /><testcase classname="tests.integration.test_wallet_authentication" name="test_authorization_with_cashu_token_directly" time="0.030" /><testcase classname="tests.integration.test_wallet_authentication" name="test_x_cashu_header_support" time="0.043" /><testcase classname="tests.integration.test_wallet_authentication" name="test_api_key_consistency_under_load" time="0.092" /><testcase classname="tests.integration.test_wallet_authentication" name="test_database_timestamp_accuracy" time="0.028" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_endpoint_with_valid_api_key" time="0.037" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_info_endpoint_detailed_information" time="0.036" /><testcase classname="tests.integration.test_wallet_information" name="test_unauthorized_access_to_wallet_endpoints" time="0.020" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_with_zero_balance" time="0.038" /><testcase classname="tests.integration.test_wallet_information" name="test_expired_api_key_behavior" time="0.039" /><testcase classname="tests.integration.test_wallet_information" name="test_concurrent_access_same_api_key" time="0.096" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_info_data_consistency" time="0.036" /><testcase classname="tests.integration.test_wallet_information" name="test_multiple_api_keys_isolation" time="0.086" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_endpoint_response_format" time="0.032" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_after_partial_spending" time="0.032" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_info_with_special_characters_in_headers" time="0.029" /><testcase classname="tests.integration.test_wallet_information" name="test_wallet_endpoints_performance" time="0.228" /><testcase classname="tests.integration.test_wallet_refund" name="test_full_balance_refund_returns_cashu_token" time="0.051" /><testcase classname="tests.integration.test_wallet_refund" name="test_partial_refund_not_supported" time="0.039" /><testcase classname="tests.integration.test_wallet_refund" name="test_zero_balance_refund_handling" time="0.039" /><testcase classname="tests.integration.test_wallet_refund" name="test_refund_amount_validation" time="0.044" /><testcase classname="tests.integration.test_wallet_refund" name="test_refund_with_lightning_address" time="0.049" /><testcase classname="tests.integration.test_wallet_refund" name="test_database_state_after_refund" time="0.045" /><testcase classname="tests.integration.test_wallet_refund" name="test_token_is_spendable_at_testmint" time="0.035" /><testcase classname="tests.integration.test_wallet_refund" name="test_concurrent_refund_requests" time="0.071" /><testcase classname="tests.integration.test_wallet_refund" name="test_refund_during_active_usage" time="0.190" /><testcase classname="tests.integration.test_wallet_refund" name="test_mint_unavailability_handling" time="0.038" /><testcase classname="tests.integration.test_wallet_refund" name="test_refund_response_format" time="0.038" /><testcase classname="tests.integration.test_wallet_refund" name="test_refund_error_handling" time="0.041" /><testcase classname="tests.integration.test_wallet_refund" name="test_refund_with_expired_key" time="0.043" /><testcase classname="tests.integration.test_wallet_refund" name="test_refund_performance" time="0.248" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_with_valid_token" time="0.057" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_with_multiple_denominations" time="0.044" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_with_invalid_token" time="0.066" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_with_spent_token" time="0.053" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_malformed_tokens" time="0.059" /><testcase classname="tests.integration.test_wallet_topup" name="test_database_atomic_balance_updates" time="0.081" /><testcase classname="tests.integration.test_wallet_topup" name="test_transaction_history_tracking" time="0.049" /><testcase classname="tests.integration.test_wallet_topup" name="test_concurrent_topups_same_api_key" time="0.142" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_during_active_proxy_request" time="0.194" /><testcase classname="tests.integration.test_wallet_topup" name="test_maximum_balance_limits" time="0.051" /><testcase classname="tests.integration.test_wallet_topup" name="test_network_failure_during_token_verification" time="0.037" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_response_format" time="0.042" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_with_zero_amount_token" time="0.041" /><testcase classname="tests.integration.test_wallet_topup" name="test_topup_stress_test" time="0.646" /><testcase classname="tests.unit.test_payment_helpers" name="test_get_max_cost_for_model" time="0.001" /><testcase classname="tests.unit.test_payment_helpers" name="test_get_max_cost_for_model_unknown" time="0.001" /><testcase classname="tests.unit.test_payment_helpers" name="test_get_max_cost_for_model_disabled" time="0.001" /><testcase classname="tests.unit.test_wallet" name="test_get_balance" time="0.001" /><testcase classname="tests.unit.test_wallet" name="test_recieve_token_valid" time="0.002" /><testcase classname="tests.unit.test_wallet" name="test_send_token" time="0.001" /><testcase classname="tests.unit.test_wallet" name="test_credit_balance" time="0.007" /><testcase classname="tests.unit.test_wallet" name="test_credit_balance_invalid_mint" time="0.005" /><testcase classname="tests.unit.test_wallet" name="test_recieve_token_untrusted_mint" time="0.004" /></testsuite></testsuites>